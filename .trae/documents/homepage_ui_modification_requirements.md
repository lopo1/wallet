# 首页UI修改需求文档

## 1. 修改概述

将首页的接收UI组件改为上传UI格式，同时优化区块链地址的展示方式，支持多地址展开显示功能。

## 2. 具体需求

### 2.1 接收UI改为上传UI格式

* **当前状态**: 首页显示接收按钮或接收UI组件

* **修改目标**: 将接收UI改为上传UI格式，包含以下元素：

  * 上传区域：支持拖拽或点击上传文件

  * 上传按钮：明显的上传操作按钮

  * 文件预览：显示待上传文件的信息

  * 进度指示：上传过程中的进度显示

### 2.2 区块链地址展示优化

* **展示要求**:

  * 每条区块链都要在UI中展示出来

  * 每条链显示其第一个地址

  * 地址格式：显示前6位和后4位，中间用省略号代替

  * 链图标：显示对应区块链的官方图标

  * 链名称：显示区块链全称或简称

### 2.3 多地址展开功能

* **展开交互**:

  * 如果某条链有多个地址，在该链卡片右侧显示向下小箭头图标

  * 点击箭头后，箭头旋转为向上方向

  * 展开显示该链的所有地址列表

  * 每个地址都可点击复制

  * 再次点击箭头可收起地址列表

## 3. UI布局设计

### 3.1 整体布局

```
+----------------------------------+
|          上传区域                 |
|    [拖拽文件到此处或点击上传]      |
+----------------------------------+
|                                  |
|     区块链地址列表                |
|                                  |
|  ┌---------------------------┐  |
|  │ [链图标] 链名称              │  |
|  │ 地址: 0x1234...5678        │  |
|  │ [向下箭头]                  │  |
|  └---------------------------┘  |
|                                  |
|  ┌---------------------------┐  |
|  │ [链图标] 链名称              │  |
|  │ 地址: 0xABCD...EFGH        │  |
|  │ [向下箭头]                  │  |
|  │ • 0xABCD...EFGH (地址1)     │  |
|  │ • 0xIJKL...MNOP (地址2)     │  |
|  │ • 0xQRST...UVWX (地址3)     │  |
|  └---------------------------┘  |
|                                  |
+----------------------------------+
```

### 3.2 视觉样式

* **颜色方案**: 使用钱包应用的主色调（蓝色/绿色系）

* **卡片样式**: 圆角卡片，带有轻微阴影

* **图标风格**: 扁平化设计，统一尺寸

* **字体规范**:

  * 链名称：16px，加粗

  * 地址：14px，等宽字体

  * 按钮文字：14px，中等粗细

## 4. 交互逻辑

### 4.1 上传功能

1. 用户点击上传区域或拖拽文件到区域
2. 显示文件选择对话框（点击时）
3. 选择文件后显示文件信息预览
4. 用户确认上传后显示上传进度
5. 上传完成后显示成功提示

### 4.2 地址展示交互

1. 默认显示每条链的第一个地址
2. 多地址链显示展开箭头
3. 点击箭头展开/收起地址列表
4. 点击任意地址可复制到剪贴板
5. 复制成功后显示短暂提示

## 5. 技术实现方案

### 5.1 前端组件结构

```dart
// 主组件
HomePageUploadUI
├── UploadSection (上传区域组件)
├── BlockchainAddressList (区块链地址列表)
│   ├── BlockchainAddressCard (单个链地址卡片)
│   │   ├── ChainIcon (链图标)
│   │   ├── ChainName (链名称)
│   │   ├── AddressDisplay (地址显示)
│   │   ├── ExpandArrow (展开箭头)
│   │   └── AddressList (地址列表 - 可选展开)
```

### 5.2 数据模型

```dart
class BlockchainAddress {
  final String chainId;
  final String chainName;
  final String chainSymbol;
  final String chainIcon;
  final List<String> addresses;
  final String primaryAddress;
  
  bool isExpanded;
}
```

### 5.3 状态管理

* 使用Provider或Riverpod管理地址数据状态

* 使用StateProvider管理展开/收起状态

* 使用FutureProvider处理上传状态

## 6. 性能优化

### 6.1 地址数据加载

* 异步加载区块链地址数据

* 使用缓存机制避免重复请求

* 分页加载大量地址数据

### 6.2 UI渲染优化

* 使用ListView\.builder渲染长列表

* 懒加载展开内容

* 图片缓存优化链图标加载

## 7. 错误处理

### 7.1 上传错误

* 文件格式不支持提示

* 文件大小限制提示

* 网络错误重试机制

### 7.2 地址加载错误

* 区块链网络连接失败提示

* 地址数据加载失败处理

* 离线模式下的缓存数据展示

## 8. 测试要求

### 8.1 功能测试

* 上传功能完整性测试

* 地址展示正确性测试

* 展开/收起交互测试

* 地址复制功能测试

### 8.2 兼容性测试

* 不同屏幕尺寸适配

* 不同区块链网络支持

* 多地址情况下的性能测试

## 9. 验收标准

### 9.1 功能验收

* ✅ 上传UI替换原有的接收UI

* ✅ 所有配置的区块链都正确显示

* ✅ 每条链显示第一个地址

* ✅ 多地址链显示展开箭头

* ✅ 点击箭头可展开/收起地址列表

* ✅ 地址可复制到剪贴板

### 9.2 性能验收

* ✅ 地址列表加载时间 < 2秒

* ✅ 展开/收起动画流畅

* ✅ 上传进度实时更新

* ✅ 大量地址情况下不卡顿

### 9.3 UI验收

* ✅ 符合设计稿样式要求

* ✅ 响应式布局适配

* ✅ 交互反馈及时

* ✅ 错误提示清晰

