# TRON 费用功能快速开始指南

## 🚀 立即使用

### 1. 查看效果

在发送界面选择 TRON 网络，输入收款地址后，系统会自动显示详细的费用信息。

### 2. 测试场景

#### 场景 A: TRX 转账（已激活地址）
```
1. 打开发送界面
2. 选择 TRON 网络
3. 输入一个已激活的地址（如测试网水龙头地址）
4. 输入转账金额
5. 查看费用显示：应该显示很低的费用（约 0.0002 TRX）
```

#### 场景 B: TRX 转账（未激活地址）
```
1. 打开发送界面
2. 选择 TRON 网络
3. 输入一个新生成的地址（从未使用过）
4. 输入转账金额
5. 查看费用显示：应该显示激活警告和 1 TRX 激活费用
```

#### 场景 C: TRC20 转账
```
1. 打开发送界面
2. 选择 TRON 网络
3. 选择一个 TRC20 代币（如 USDT）
4. 输入收款地址
5. 输入转账金额
6. 查看费用显示：应该显示能量消耗和较高的费用
```

## 📱 UI 展示

### 费用显示位置
```
┌─────────────────────────────────────┐
│ 发送                                │
│ 🪙 TRX                              │
├─────────────────────────────────────┤
│                                     │
│ 收款地址                            │
│ ┌─────────────────────────────────┐ │
│ │ T...                            │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 转账数量                            │
│ ┌─────────────────────────────────┐ │
│ │ 10.0                            │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 手续费              🔄 10s后更新    │  ← 这里！
│ ┌─────────────────────────────────┐ │
│ │ 总费用          1.000268 TRX    │ │
│ │                 $0.1000         │ │
│ ├─────────────────────────────────┤ │
│ │ 带宽                            │ │
│ │ 使用免费资源                    │ │
│ │ 268 / 5000                      │ │
│ ├─────────────────────────────────┤ │
│ │ ⚠️ 激活新账户                   │ │
│ │ 目标地址未激活，需额外消耗 1 TRX │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │         下一步                  │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

## 🔍 关键特性

### 1. 自动检测
- ✅ 输入地址后自动查询费用
- ✅ 自动检测地址是否已激活
- ✅ 自动查询账户资源状态

### 2. 实时更新
- ✅ 每 10 秒自动刷新费用
- ✅ 显示倒计时进度
- ✅ 金额变化时立即更新

### 3. 详细明细
- ✅ 总费用（TRX 和 USD）
- ✅ 带宽消耗和费用
- ✅ 能量消耗和费用（TRC20）
- ✅ 激活费用警告

### 4. 视觉反馈
- ✅ 绿色：使用免费资源
- ✅ 橙色：需要支付费用
- ✅ 警告框：重要提示

## 💡 使用技巧

### 降低 TRC20 转账费用
如果看到 TRC20 转账费用很高（>10 TRX），建议：
1. 质押 TRX 获取能量
2. 使用有能量的地址发送
3. 选择网络不拥堵的时间

### 避免激活费用
如果不想支付激活费用：
1. 确认收款地址已经激活
2. 让收款方先接收一笔小额转账激活地址

### 节省带宽费用
每个账户每日有 5000 点免费带宽：
1. 合理安排转账时间
2. 避免频繁小额转账
3. 考虑质押 TRX 获取更多带宽

## 🐛 常见问题

### Q: 为什么费用显示为 0？
A: 可能是：
- 使用了免费带宽
- 账户有质押的能量
- 目标地址已激活

### Q: 为什么 TRC20 费用这么高？
A: TRC20 转账需要能量，如果没有质押 TRX，需要按市场价格支付约 13.4 TRX。

### Q: 激活费用是什么？
A: TRON 网络要求每个地址首次接收资产时需要被激活，费用为 1 TRX，由发送方支付。

### Q: 费用会变化吗？
A: 会的，费用取决于：
- 当前账户资源状态
- 网络拥堵程度
- 能量和带宽市场价格

### Q: 如何知道地址是否已激活？
A: 输入地址后，系统会自动检测并显示。如果看到激活警告，说明地址未激活。

## 📞 获取帮助

### 查看文档
- `TRON_FEE_SUMMARY.md`: 功能总结
- `tron_fee_enhancement.md`: 技术实现
- `tron_fee_usage_example.md`: 代码示例

### 测试地址
可以使用以下测试网地址进行测试：
- 已激活地址：从测试网水龙头获取
- 未激活地址：生成新地址（从未使用过）

### 测试网水龙头
- Nile 测试网: https://nileex.io/join/getJoinPage

## ✅ 验证清单

使用前请确认：
- [ ] 已选择 TRON 网络
- [ ] 已输入有效的收款地址
- [ ] 已输入转账金额
- [ ] 费用显示正常
- [ ] 理解所有费用项目

## 🎉 开始使用

现在你可以：
1. 打开钱包应用
2. 进入发送界面
3. 选择 TRON 网络
4. 体验新的费用显示功能！

祝使用愉快！ 🚀
